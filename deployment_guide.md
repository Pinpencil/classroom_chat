# 课堂互动系统部署文档

## 1. 系统概述

课堂互动系统是一个基于局域网的教学辅助工具，支持教师创建聊天室、导入学生名单，学生可以进行签到、留言、答题等活动。系统完全在局域网内运行，不需要连接互联网。

## 2. 系统要求

### 硬件要求
- 服务器：任何能运行Windows的计算机
- 内存：至少4GB RAM
- 存储：至少500MB可用空间
- 网络：局域网环境

### 软件要求
- 操作系统：Windows 10/11
- Python 3.8或更高版本
- 浏览器：Chrome、Firefox、Edge等现代浏览器

## 3. 安装步骤

### 3.1 安装Python

1. 访问[Python官网](https://www.python.org/downloads/)下载最新版本的Python安装包
2. 运行安装程序，确保勾选"Add Python to PATH"选项
3. 完成安装后，打开命令提示符(CMD)，输入以下命令验证安装：
   ```
   python --version
   ```

### 3.2 安装依赖库

1. 打开命令提示符(CMD)
2. 导航到系统文件夹，例如：
   ```
   cd C:\classroom_chat_system
   ```
3. 安装所需的依赖库：
   ```
   pip install flask flask-socketio pandas
   ```

### 3.3 部署系统文件

1. 将提供的`classroom_chat_system`文件夹复制到服务器上的任意位置，例如`C:\classroom_chat_system`
2. 确保文件夹结构如下：
   ```
   classroom_chat_system/
   ├── data/            # 数据库文件存储目录
   ├── uploads/         # 上传文件存储目录
   └── src/             # 源代码目录
       ├── app.py       # 主应用程序
       ├── static/      # 静态文件
       │   ├── css/
       │   ├── js/
       │   └── img/
       └── templates/   # HTML模板
   ```

## 4. 启动系统

### 4.1 启动服务器

1. 打开命令提示符(CMD)
2. 导航到系统源代码目录：
   ```
   cd C:\classroom_chat_system\src
   ```
3. 启动Flask应用：
   ```
   python app.py
   ```
4. 服务器将在`0.0.0.0:5000`上启动，控制台会显示类似以下信息：
   ```
   * Running on http://0.0.0.0:5000
   * Running on http://127.0.0.1:5000
   * Running on http://192.168.1.100:5000 (可能是您的局域网IP)
   ```

### 4.2 访问系统

1. 在服务器上，可以通过浏览器访问`http://localhost:5000`或`http://127.0.0.1:5000`
2. 在局域网内的其他设备上，可以通过服务器的IP地址访问，例如`http://192.168.1.100:5000`
   - 可以在服务器上运行`ipconfig`命令查看IP地址
   - 使用的IP地址应该是控制台输出中显示的局域网IP

## 5. 系统配置

### 5.1 创建教师账户

1. 首次使用时，需要创建教师账户
2. 在系统首页点击"教师注册"
3. 填写用户名和密码，完成注册

### 5.2 导入学生名单

1. 登录教师账户
2. 点击导航栏中的"导入学生"
3. 准备一个包含"姓名"列的Excel文件
4. 上传Excel文件，系统会自动导入学生名单

### 5.3 创建聊天室

1. 登录教师账户
2. 点击"创建聊天室"或在仪表板上点击"创建新聊天室"
3. 输入聊天室名称，例如"2025春季高等数学"
4. 点击"创建聊天室"按钮

## 6. 使用指南

### 6.1 教师功能

1. **创建聊天室**：创建新的课堂聊天室
2. **导入学生**：通过Excel文件导入学生名单
3. **发布题目**：在聊天室中发布选择题、开放性问题或简答题
4. **创建签到**：创建点击签到或密码签到活动
5. **查看签到记录**：查看学生的签到情况
6. **查看答题情况**：查看学生的答题情况

### 6.2 学生功能

1. **选择身份**：从导入的学生名单中选择自己的姓名
2. **加入聊天室**：加入教师创建的聊天室
3. **发送消息**：在公共留言板发送消息
4. **私聊**：与其他学生或教师进行私聊
5. **回答问题**：回答教师发布的题目
6. **签到**：完成教师发起的签到活动

## 7. 常见问题

### 7.1 无法启动服务器

- 检查Python是否正确安装
- 确认所有依赖库已安装
- 检查端口5000是否被其他应用占用，如果是，可以修改`app.py`中的端口号

### 7.2 局域网内其他设备无法访问

- 确认服务器和客户端设备在同一局域网内
- 检查服务器的防火墙设置，确保允许5000端口的入站连接
- 验证使用的是正确的IP地址

### 7.3 Excel导入失败

- 确保Excel文件包含"姓名"列
- 检查Excel文件格式是否为.xls或.xlsx
- 确保`uploads`目录有写入权限

## 8. 系统维护

### 8.1 数据备份

系统的所有数据存储在`data/classroom.db`文件中，建议定期备份此文件：
1. 停止服务器
2. 复制`data/classroom.db`文件到安全位置
3. 重新启动服务器

### 8.2 系统更新

如需更新系统：
1. 停止当前运行的服务器
2. 备份`data`目录
3. 替换源代码文件
4. 重新启动服务器

## 9. 安全建议

1. 定期更改教师账户密码
2. 不要将系统暴露到公共网络
3. 定期备份数据库文件
4. 保持操作系统和Python环境更新

## 10. 技术支持

如有任何问题或需要技术支持，请联系系统管理员。
